import{f as ie,j as e,r as h,H as re,I as le,a as ae,d as oe,y as ne,g as ce,J as Y,K as de,G as me,M as he,N as ue,O as pe,P as xe,q as Q,Q as X,i as Z,R as je,o as G,n as B,S as K,T as ve,U as ee,V as J,W as ge,h as se,X as Ne,C as fe,u as be,E as ke,Y as ye,Z as we,_ as Ce}from"./index-75deb616.js";import{D as te}from"./Skeleton-60dc65eb.js";import{c as Se,a as _e}from"./tmdb-dd13b212.js";/* empty css               */function $e({movie:g}){const{favorites:a,toggleFavorite:j}=ie(),u=a.some(p=>p.id===g.id);return e.jsx("button",{className:`like-btn ${u?"liked":""}`,onClick:()=>j(g),children:u?"â¤ï¸":"ğŸ¤"})}function De({path:g,alt:a,size:j="w500"}){const u=`/assets/humen.png?v=${Date.now()}`,p=g?`https://image.tmdb.org/t/p/${j}${g}`:u;return e.jsx("img",{src:p,alt:a||"ì´ë¯¸ì§€ ì—†ìŒ",loading:"lazy",style:{width:"100%",objectFit:"cover",backgroundColor:"#111a24",borderRadius:"8px"},onError:n=>{n.target.onerror=null,n.target.src=u}})}function Te({tvId:g,seasons:a,onEpisodeSelect:j}){const[u,p]=h.useState(null),[n,f]=h.useState({}),[y,S]=h.useState({}),_=async c=>{if(u===c){p(null);return}if(p(c),!n[c]){S(v=>({...v,[c]:!0}));try{const v=await Se(g,c);f(b=>({...b,[c]:v.episodes||[]}))}catch(v){console.error(`ì‹œì¦Œ ${c} ë¡œë“œ ì‹¤íŒ¨:`,v)}finally{S(v=>({...v,[c]:!1}))}}},$=c=>{j&&j(c)};return!a||a.length===0?null:e.jsxs("div",{className:"seasons-container",children:[e.jsx("h2",{className:"seasons-title",children:"ì‹œì¦Œ ë° ì—í”¼ì†Œë“œ"}),e.jsx("div",{className:"seasons-list",children:a.map(c=>{const v=u===c.season_number,b=n[c.season_number]||[],E=y[c.season_number];return e.jsxs("div",{className:"season-item",children:[e.jsxs("button",{className:"season-header",onClick:()=>_(c.season_number),"aria-expanded":v,children:[e.jsxs("div",{className:"season-info",children:[e.jsx("h3",{className:"season-name",children:c.name||`ì‹œì¦Œ ${c.season_number}`}),e.jsxs("span",{className:"season-episode-count",children:[c.episode_count,"ê°œ ì—í”¼ì†Œë“œ"]})]}),e.jsx("div",{className:"season-toggle",children:v?e.jsx(re,{}):e.jsx(le,{})})]}),v&&e.jsx("div",{className:"episodes-list",children:E?e.jsx("div",{className:"episodes-loading",children:"ë¡œë”© ì¤‘..."}):b.length>0?e.jsx(e.Fragment,{children:b.map(x=>e.jsxs("div",{className:"episode-item",onClick:()=>$(x),children:[e.jsx("div",{className:"episode-number",children:x.episode_number}),e.jsxs("div",{className:"episode-content",children:[e.jsxs("div",{className:"episode-header",children:[e.jsx("h4",{className:"episode-name",children:x.name||`ì—í”¼ì†Œë“œ ${x.episode_number}`}),x.runtime&&e.jsxs("span",{className:"episode-runtime",children:[x.runtime,"ë¶„"]})]}),x.overview&&e.jsx("p",{className:"episode-overview",children:x.overview.length>150?`${x.overview.substring(0,150)}...`:x.overview}),x.air_date&&e.jsxs("span",{className:"episode-air-date",children:["ë°©ì˜ì¼: ",new Date(x.air_date).toLocaleDateString("ko-KR")]})]}),e.jsx("button",{className:"episode-play",onClick:D=>{D.stopPropagation(),$(x)},"aria-label":`ì—í”¼ì†Œë“œ ${x.episode_number} ì¬ìƒ`,children:e.jsx(ae,{})})]},x.id))}):e.jsx("div",{className:"episodes-empty",children:"ì—í”¼ì†Œë“œ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤."})})]},c.season_number)})})]})}function Re({movieId:g}){const{user:a}=oe(),{success:j,error:u,info:p}=ne(),[n,f]=h.useState([]),[y,S]=h.useState(""),[_,$]=h.useState(0),[c,v]=h.useState("latest"),[b,E]=h.useState(!0),[x,D]=h.useState(null),[F,T]=h.useState(""),[P,R]=h.useState(null),[L,A]=h.useState(""),k=ce(se,"comments",String(g),"items");h.useEffect(()=>{g&&(async()=>{try{const t=Q(k,X("createdAt","desc")),i=(await Z(t)).docs.map(r=>({id:r.id,...r.data(),likes:r.data().likes||[],likesCount:r.data().likesCount||0,reports:r.data().reports||[],replies:r.data().replies||[],isSpoiler:r.data().isSpoiler||!1}));f(i)}catch(t){console.error("ëŒ“ê¸€ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:",t)}})()},[g]);const w=h.useMemo(()=>{const s=n.filter(i=>i.rating&&i.rating>0).map(i=>i.rating);if(s.length===0)return{average:0,count:0,distribution:{5:0,4:0,3:0,2:0,1:0}};const t=s.reduce((i,r)=>i+r,0)/s.length,o={5:0,4:0,3:0,2:0,1:0};return s.forEach(i=>{o[i]=(o[i]||0)+1}),{average:t.toFixed(1),count:s.length,distribution:o}},[n]),M=h.useMemo(()=>{let s=[...n];switch(b||(s=s.filter(t=>!t.isSpoiler)),c){case"likes":s.sort((t,o)=>(o.likesCount||0)-(t.likesCount||0));break;case"rating":s.sort((t,o)=>(o.rating||0)-(t.rating||0));break;case"latest":default:s.sort((t,o)=>{var m,N,d,C;const i=((N=(m=t.createdAt)==null?void 0:m.toDate)==null?void 0:N.call(m))||new Date(t.createdAt);return(((C=(d=o.createdAt)==null?void 0:d.toDate)==null?void 0:C.call(d))||new Date(o.createdAt))-i});break}return s},[n,c,b]),l=async()=>{if(!a){u("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.");return}if(!y.trim()){p("ëŒ“ê¸€ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");return}try{const t=["ìŠ¤í¬ì¼ëŸ¬","ìŠ¤í¬","ê²°ë§","ë°˜ì „","ë","ë§ˆì§€ë§‰"].some(r=>y.toLowerCase().includes(r));await je(k,{userId:a.uid,userName:a.displayName||a.email.split("@")[0],userEmail:a.email,text:y,rating:_,isSpoiler:t,likes:[],likesCount:0,reports:[],replies:[],createdAt:G()}),S(""),$(0),j("ëŒ“ê¸€ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.");const o=Q(k,X("createdAt","desc")),i=await Z(o);f(i.docs.map(r=>({id:r.id,...r.data(),likes:r.data().likes||[],likesCount:r.data().likesCount||0,reports:r.data().reports||[],replies:r.data().replies||[],isSpoiler:r.data().isSpoiler||!1})))}catch(s){console.error("ëŒ“ê¸€ ë“±ë¡ ì‹¤íŒ¨:",s),u("ëŒ“ê¸€ ë“±ë¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}},q=async(s,t)=>{if(!a){u("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.");return}try{const o=B(k,s),i=t.includes(a.uid);i?(await K(o,{likes:ve(a.uid),likesCount:ee(-1)}),p("ì¢‹ì•„ìš”ë¥¼ ì·¨ì†Œí–ˆìŠµë‹ˆë‹¤.")):(await K(o,{likes:J(a.uid),likesCount:ee(1)}),j("ì¢‹ì•„ìš”ë¥¼ ëˆŒë €ìŠµë‹ˆë‹¤.")),f(r=>r.map(m=>{if(m.id===s){const N=i?t.filter(d=>d!==a.uid):[...t,a.uid];return{...m,likes:N,likesCount:i?(m.likesCount||0)-1:(m.likesCount||0)+1}}return m}))}catch(o){console.error("ì¢‹ì•„ìš” ì‹¤íŒ¨:",o),u("ì¢‹ì•„ìš” ì²˜ë¦¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}},z=async s=>{if(!a){u("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.");return}if(confirm("ì´ ëŒ“ê¸€ì„ ì‹ ê³ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))try{const t=B(k,s);await K(t,{reports:J(a.uid)}),j("ì‹ ê³ ê°€ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤.")}catch(t){console.error("ì‹ ê³  ì‹¤íŒ¨:",t),u("ì‹ ê³  ì²˜ë¦¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}},H=async s=>{if(!F.trim()){p("ìˆ˜ì •í•  ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");return}try{const t=B(k,s);await K(t,{text:F,editedAt:G()}),f(o=>o.map(i=>i.id===s?{...i,text:F,editedAt:new Date}:i)),D(null),T(""),j("ëŒ“ê¸€ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.")}catch(t){console.error("ëŒ“ê¸€ ìˆ˜ì • ì‹¤íŒ¨:",t),u("ëŒ“ê¸€ ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}},O=async s=>{if(!a){u("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.");return}if(!L.trim()){p("ë‹µê¸€ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");return}try{const t=B(k,s),o={userId:a.uid,userName:a.displayName||a.email.split("@")[0],text:L,createdAt:G()};await K(t,{replies:J(o)}),f(i=>i.map(r=>r.id===s?{...r,replies:[...r.replies||[],{...o,createdAt:new Date}]}:r)),A(""),R(null),j("ë‹µê¸€ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.")}catch(t){console.error("ë‹µê¸€ ë“±ë¡ ì‹¤íŒ¨:",t),u("ë‹µê¸€ ë“±ë¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}},V=async(s,t)=>{if((a==null?void 0:a.uid)!==t){u("ë³¸ì¸ ëŒ“ê¸€ë§Œ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");return}if(confirm("ëŒ“ê¸€ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))try{await ge(B(se,"comments",String(g),"items",s)),f(o=>o.filter(i=>i.id!==s)),j("ëŒ“ê¸€ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.")}catch(o){console.error("ëŒ“ê¸€ ì‚­ì œ ì‹¤íŒ¨:",o),u("ëŒ“ê¸€ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}},I=s=>{const t=(s==null?void 0:s.charAt(0).toUpperCase())||"?";return e.jsx("div",{className:"comment-avatar",title:s,children:t})},U=s=>{if(!s)return"";const t=s.toDate?s.toDate():new Date(s),i=new Date-t,r=Math.floor(i/6e4),m=Math.floor(i/36e5),N=Math.floor(i/864e5);return r<1?"ë°©ê¸ˆ ì „":r<60?`${r}ë¶„ ì „`:m<24?`${m}ì‹œê°„ ì „`:N<7?`${N}ì¼ ì „`:t.toLocaleDateString("ko-KR")};return e.jsxs("div",{className:"comments-section",children:[e.jsxs("div",{className:"comments-header",children:[e.jsx("h3",{children:"ğŸ’¬ ëŒ“ê¸€ & í‰ì "}),w.count>0&&e.jsxs("div",{className:"rating-summary",children:[e.jsxs("div",{className:"rating-average",children:[e.jsx(Y,{className:"star-icon"}),e.jsx("span",{className:"rating-value",children:w.average}),e.jsxs("span",{className:"rating-count",children:["(",w.count,"ëª…)"]})]}),e.jsx("div",{className:"rating-distribution",children:[5,4,3,2,1].map(s=>{const t=w.distribution[s]||0,o=w.count>0?t/w.count*100:0;return e.jsxs("div",{className:"rating-bar-item",children:[e.jsxs("span",{className:"rating-star-label",children:[s,"ì "]}),e.jsx("div",{className:"rating-bar",children:e.jsx("div",{className:"rating-bar-fill",style:{width:`${o}%`}})}),e.jsx("span",{className:"rating-bar-count",children:t})]},s)})})]})]}),e.jsxs("div",{className:"comment-form",children:[e.jsxs("div",{className:"rating-input",children:[e.jsx("span",{className:"rating-label",children:"í‰ì :"}),e.jsx("div",{className:"rating-stars",children:[1,2,3,4,5].map(s=>e.jsx("span",{onClick:()=>$(s),className:`rating-star ${s<=_?"active":""}`,children:e.jsx(Y,{})},s))})]}),e.jsxs("div",{className:"comment-input-wrapper",children:[e.jsx("textarea",{value:y,onChange:s=>S(s.target.value),placeholder:"ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”... (ìŠ¤í¬ì¼ëŸ¬ê°€ í¬í•¨ë˜ì–´ ìˆìœ¼ë©´ ìë™ìœ¼ë¡œ íƒœê·¸ë©ë‹ˆë‹¤)",className:"comment-input",rows:4}),e.jsxs("label",{className:"spoiler-checkbox",children:[e.jsx("input",{type:"checkbox",checked:!1,readOnly:!0,style:{display:"none"}}),e.jsx("span",{className:"spoiler-hint",children:'ğŸ’¡ "ìŠ¤í¬ì¼ëŸ¬", "ê²°ë§", "ë°˜ì „" ë“±ì˜ ë‹¨ì–´ê°€ í¬í•¨ë˜ë©´ ìë™ìœ¼ë¡œ ìŠ¤í¬ì¼ëŸ¬ íƒœê·¸ê°€ ì¶”ê°€ë©ë‹ˆë‹¤'})]})]}),e.jsx("button",{onClick:l,className:"comment-submit-btn",children:"ë“±ë¡"})]}),e.jsxs("div",{className:"comments-controls",children:[e.jsxs("div",{className:"sort-options",children:[e.jsx("span",{className:"sort-label",children:"ì •ë ¬:"}),e.jsx("button",{className:`sort-btn ${c==="latest"?"active":""}`,onClick:()=>v("latest"),children:"ìµœì‹ ìˆœ"}),e.jsx("button",{className:`sort-btn ${c==="likes"?"active":""}`,onClick:()=>v("likes"),children:"ì¢‹ì•„ìš”ìˆœ"}),e.jsx("button",{className:`sort-btn ${c==="rating"?"active":""}`,onClick:()=>v("rating"),children:"í‰ì ìˆœ"})]}),e.jsxs("label",{className:"spoiler-filter",children:[e.jsx("input",{type:"checkbox",checked:b,onChange:s=>E(s.target.checked)}),e.jsx("span",{children:"ìŠ¤í¬ì¼ëŸ¬ í‘œì‹œ"})]})]}),e.jsx("div",{className:"comment-list",children:M.length===0?e.jsx("p",{className:"no-comments",children:"ì•„ì§ ë“±ë¡ëœ ëŒ“ê¸€ì´ ì—†ìŠµë‹ˆë‹¤."}):M.map(s=>{var r;const t=(r=s.likes)==null?void 0:r.includes(a==null?void 0:a.uid),o=x===s.id,i=P===s.id;return e.jsxs("div",{className:`comment-item ${s.isSpoiler?"spoiler":""}`,children:[s.isSpoiler&&e.jsx("div",{className:"spoiler-warning",children:"âš ï¸ ìŠ¤í¬ì¼ëŸ¬ê°€ í¬í•¨ëœ ëŒ“ê¸€ì…ë‹ˆë‹¤"}),e.jsxs("div",{className:"comment-header",children:[e.jsxs("div",{className:"comment-user",children:[I(s.userEmail),e.jsxs("div",{className:"comment-user-info",children:[e.jsx("strong",{className:"comment-username",children:s.userName}),e.jsxs("span",{className:"comment-date",children:[U(s.createdAt),s.editedAt&&" (ìˆ˜ì •ë¨)"]})]})]}),s.rating>0&&e.jsx("div",{className:"comment-rating",children:[...Array(5)].map((m,N)=>e.jsx(Y,{className:`rating-star-small ${N<s.rating?"filled":""}`},N))})]}),o?e.jsxs("div",{className:"comment-edit-form",children:[e.jsx("textarea",{value:F,onChange:m=>T(m.target.value),className:"comment-edit-input",rows:3}),e.jsxs("div",{className:"comment-edit-actions",children:[e.jsxs("button",{className:"edit-save-btn",onClick:()=>H(s.id),children:[e.jsx(de,{})," ì €ì¥"]}),e.jsxs("button",{className:"edit-cancel-btn",onClick:()=>{D(null),T("")},children:[e.jsx(me,{})," ì·¨ì†Œ"]})]})]}):e.jsx("p",{className:"comment-text",children:s.text}),e.jsxs("div",{className:"comment-actions",children:[e.jsxs("button",{className:`action-btn like-btn ${t?"liked":""}`,onClick:()=>q(s.id,s.likes||[]),title:"ì¢‹ì•„ìš”",children:[e.jsx(he,{})," ",s.likesCount||0]}),e.jsxs("button",{className:"action-btn reply-btn",onClick:()=>{R(i?null:s.id),A("")},title:"ë‹µê¸€",children:[e.jsx(ue,{})," ë‹µê¸€"]}),(a==null?void 0:a.uid)===s.userId&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"action-btn edit-btn",onClick:()=>{D(s.id),T(s.text)},title:"ìˆ˜ì •",children:[e.jsx(pe,{})," ìˆ˜ì •"]}),e.jsx("button",{className:"action-btn delete-btn",onClick:()=>V(s.id,s.userId),title:"ì‚­ì œ",children:"ì‚­ì œ"})]}),a&&a.uid!==s.userId&&e.jsxs("button",{className:"action-btn report-btn",onClick:()=>z(s.id),title:"ì‹ ê³ ",children:[e.jsx(xe,{})," ì‹ ê³ "]})]}),i&&e.jsxs("div",{className:"reply-form",children:[e.jsx("textarea",{value:L,onChange:m=>A(m.target.value),placeholder:"ë‹µê¸€ì„ ì…ë ¥í•˜ì„¸ìš”...",className:"reply-input",rows:2}),e.jsxs("div",{className:"reply-actions",children:[e.jsx("button",{className:"reply-submit-btn",onClick:()=>O(s.id),children:"ë“±ë¡"}),e.jsx("button",{className:"reply-cancel-btn",onClick:()=>{R(null),A("")},children:"ì·¨ì†Œ"})]})]}),s.replies&&s.replies.length>0&&e.jsx("div",{className:"replies-list",children:s.replies.map((m,N)=>e.jsxs("div",{className:"reply-item",children:[e.jsxs("div",{className:"reply-header",children:[I(m.userEmail),e.jsx("strong",{className:"reply-username",children:m.userName}),e.jsx("span",{className:"reply-date",children:U(m.createdAt)})]}),e.jsx("p",{className:"reply-text",children:m.text})]},N))})]},s.id)})})]})}function Me(){var M;const{id:g}=Ne(),a=fe(),j=be(),{error:u}=ne(),p=h.useMemo(()=>a.pathname.startsWith("/tv/")?"tv":"movie",[a.pathname]),[n,f]=h.useState(null),[y,S]=h.useState([]),[_,$]=h.useState(null),[c,v]=h.useState([]),[b,E]=h.useState([]),[x,D]=h.useState([]),[F,T]=h.useState(!0),[P,R]=h.useState(null);h.useEffect(()=>{(async()=>{var q,z,H,O,V,I,U;T(!0),R(null);try{const s=await _e(g,p),t=["porn","pornographic","xvideo","xhamster","zwinger","fetish","hardcore","nude","erotic","explicit sex","adult video","pornstar","ì•¼ë™","ì—ë¡œ","ì„±ì¸","ìŒë€","í¬ë¥´ë…¸","19ê¸ˆ","ë…¸ê³¨ì "],o=`${s.title||s.name||""} ${s.overview||""}`.toLowerCase();if(s.adult||t.some(d=>o.includes(d))){f(null),R("í•´ë‹¹ ì½˜í…ì¸ ëŠ” ì´ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");return}f(s);const i=(z=(q=s.videos)==null?void 0:q.results)==null?void 0:z.find(d=>["Trailer","Teaser","Clip"].includes(d.type)&&d.site==="YouTube");$((i==null?void 0:i.key)||null);const r=((V=(O=(H=s.credits)==null?void 0:H.cast)==null?void 0:O.filter(d=>d.name&&d.character))==null?void 0:V.slice(0,12))||[];if(S(r),p==="tv"&&s.seasons){const d=s.seasons.filter(C=>C.season_number>=0&&C.episode_count>0);D(d)}const m=(((I=s.recommendations)==null?void 0:I.results)||[]).filter(d=>{const C=`${d.title||d.name||""} ${d.overview||""}`.toLowerCase();return!d.adult&&!t.some(W=>C.includes(W))});v(m);const N=(((U=s.similar)==null?void 0:U.results)||[]).filter(d=>{const C=`${d.title||d.name||""} ${d.overview||""}`.toLowerCase();return!d.adult&&!t.some(W=>C.includes(W))});E(N)}catch(s){console.error("ì½˜í…ì¸  ìƒì„¸ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:",s),R(s.message||"ì½˜í…ì¸  ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."),u(s.message||"ì½˜í…ì¸  ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}finally{T(!1)}})()},[g,p,u]);const L=l=>{n&&l&&j(`/play/tv/${n.id}?season=${l.season_number}&episode=${l.episode_number}`)};if(F)return e.jsx(te,{});if(P&&!n)return e.jsx(ke,{showDetails:!1,children:e.jsx("div",{className:"error-boundary",children:e.jsxs("div",{className:"error-content",children:[e.jsx("div",{className:"error-icon",children:e.jsx(ye,{})}),e.jsx("h1",{className:"error-title",children:"ì˜í™” ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"}),e.jsx("p",{className:"error-message",children:P}),e.jsxs("div",{className:"error-actions",children:[e.jsxs("button",{className:"error-btn error-btn-primary",onClick:()=>window.location.reload(),children:[e.jsx(we,{})," ë‹¤ì‹œ ì‹œë„"]}),e.jsxs("button",{className:"error-btn error-btn-secondary",onClick:()=>j("/home"),children:[e.jsx(Ce,{})," í™ˆìœ¼ë¡œ ê°€ê¸°"]})]})]})})});if(!n)return e.jsx(te,{});const A="https://via.placeholder.com/300x450.png?text=No+Image",k="https://placehold.co/140x210?text=No+Image",w=n.backdrop_path?`https://image.tmdb.org/t/p/original${n.backdrop_path}`:null;return e.jsxs("div",{className:"movie-detail fade-in",children:[w&&e.jsxs("div",{className:"movie-detail-backdrop",children:[e.jsx("img",{src:w,alt:n.title,className:"backdrop-image"}),e.jsx("div",{className:"backdrop-gradient"})]}),e.jsxs("div",{className:"movie-detail-content",children:[e.jsxs("div",{className:"detail-header",children:[e.jsx("img",{src:n.poster_path?`https://image.tmdb.org/t/p/w500${n.poster_path}`:A,alt:n.title,className:"detail-poster"}),e.jsxs("div",{className:"detail-info",children:[e.jsx("h1",{children:n.title||n.name}),e.jsxs("div",{className:"detail-actions",children:[e.jsxs("button",{className:"detail-play-btn",onClick:()=>j(`/play/${p}/${n.id}`),children:[e.jsx(ae,{})," ì¬ìƒ"]}),e.jsx($e,{movie:n})]}),e.jsx("p",{className:"overview",children:n.overview||"ì¤„ê±°ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤."}),e.jsxs("p",{children:[e.jsxs("strong",{children:[p==="tv"?"ì²« ë°©ì˜ì¼":"ê°œë´‰ì¼",":"]})," ",p==="tv"?n.first_air_date||"ì •ë³´ ì—†ìŒ":n.release_date||"ì •ë³´ ì—†ìŒ"]}),p==="tv"&&n.number_of_seasons&&e.jsxs("p",{children:[e.jsx("strong",{children:"ì‹œì¦Œ:"})," ",n.number_of_seasons,"ê°œ ì‹œì¦Œ"]}),p==="tv"&&n.number_of_episodes&&e.jsxs("p",{children:[e.jsx("strong",{children:"ì—í”¼ì†Œë“œ:"})," ",n.number_of_episodes,"ê°œ ì—í”¼ì†Œë“œ"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ì¥ë¥´:"})," ",((M=n.genres)==null?void 0:M.map(l=>l.name).join(", "))||"ì •ë³´ ì—†ìŒ"]})]})]}),y.length>0&&e.jsxs("div",{className:"detail-cast",children:[e.jsx("h2",{children:"ì¶œì—°ì§„"}),e.jsx("div",{className:"cast-list",children:y.map(l=>e.jsxs("div",{className:"cast-card",children:[e.jsx(De,{path:l.profile_path,alt:l.name,size:"w200"}),e.jsx("p",{className:"actor-name",children:l.name}),e.jsx("p",{className:"character",children:l.character})]},l.cast_id||l.credit_id))})]}),p==="tv"&&x.length>0&&e.jsx(Te,{tvId:n.id,seasons:x,onEpisodeSelect:L}),e.jsxs("div",{className:"detail-trailer",children:[e.jsx("h2",{children:"ì˜ˆê³ í¸"}),e.jsx("div",{className:"trailer-wrapper",children:_?e.jsx("iframe",{src:`https://www.youtube.com/embed/${_}?autoplay=1&mute=1&controls=1`,title:"Trailer",frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0}):e.jsx("p",{className:"no-trailer",children:"ë“±ë¡ëœ ì˜ˆê³ í¸ì´ ì—†ìŠµë‹ˆë‹¤."})})]}),c.length>0&&e.jsxs("div",{className:"detail-recommend",children:[e.jsx("h2",{children:"ì¶”ì²œì‘"}),e.jsx("div",{className:"recommend-list",children:c.map(l=>e.jsxs("div",{className:"recommend-card",onClick:()=>j(`/${l.media_type||p}/${l.id}`),style:{cursor:"pointer"},children:[e.jsx("img",{src:l.poster_path?`https://image.tmdb.org/t/p/w200${l.poster_path}`:k,alt:l.title||l.name}),e.jsx("p",{className:"rec-title",children:l.title||l.name||"ì œëª© ì—†ìŒ"})]},l.id))})]}),b.length>0&&e.jsxs("div",{className:"detail-similar",children:[e.jsx("h2",{children:"ì´ ì˜í™”ì™€ ë¹„ìŠ·í•œ ì½˜í…ì¸ "}),e.jsx("div",{className:"similar-list",children:b.map(l=>e.jsxs("div",{className:"similar-card",onClick:()=>j(`/${l.media_type||p}/${l.id}`),style:{cursor:"pointer"},children:[e.jsx("img",{src:l.poster_path?`https://image.tmdb.org/t/p/w200${l.poster_path}`:k,alt:l.title||l.name}),e.jsx("p",{className:"similar-title",children:l.title||l.name||"ì œëª© ì—†ìŒ"})]},l.id))})]}),(n==null?void 0:n.id)&&e.jsx(Re,{movieId:String(n.id)})]})]})}export{Me as default};
